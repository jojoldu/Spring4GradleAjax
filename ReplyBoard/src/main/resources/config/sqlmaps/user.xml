<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="zum.potal.dwlee.dao.UserDao"><!-- namespace에서 interface로 정의된 DAO를 정확히 명시해주어야 한다 -->
  
  <resultMap type="zum.potal.dwlee.vo.UserVO" id="userVO">
  	<result property="id" column="id"/>
  	<result property="password" column="password"/>
  	<result property="email" column="email"/>
  </resultMap>
  
  <select id="login" parameterType="zum.potal.dwlee.vo.UserVO" resultType="int">
	SELECT count(*)
	  FROM user
	 WHERE id=#{id} AND password= PASSWORD(#{password})
  </select>
  
  <select id="getList" resultMap="userVO">
	SELECT id,email
	  FROM user
  </select>
  
  <insert id="add" parameterType="zum.potal.dwlee.vo.UserVO" ><!-- parameterType를 권장  -->
	INSERT 
	  INTO user (id,password,email) 
	VALUES	  (#{id},PASSWORD(#{password}),#{email})
  </insert>


  
</mapper>